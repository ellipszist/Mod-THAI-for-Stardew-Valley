webpackJsonp([1],{"+BTi":function(e,t){},"+Rdb":function(e,t){},"7F/4":function(e,t){},BxWU:function(e,t){},GXEp:function(e,t){},I4nB:function(e,t){},JA48:function(e,t){},NHnr:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});l("JA48"),l("+BTi");var a=l("OE6e"),n=l.n(a),r=(l("+Rdb"),l("Mezo")),o=l.n(r),i=(l("qunJ"),l("vqwl")),u=l.n(i),c=(l("wlbC"),l("1ZIF")),s=l.n(c),d=(l("BxWU"),l("g2bL")),v=l.n(d),m=(l("X+ky"),l("HJMx")),h=l.n(m),g=(l("I4nB"),l("STLj")),b=l.n(g),f=(l("tJtB"),l("+vil")),p=l.n(f),y=(l("GXEp"),l("mtrD")),B=l.n(y),w=(l("jZDA"),l("91Nw")),k=l.n(w),x=(l("d7TW"),l("ajQY")),P=l.n(x),N=l("7+uW"),O=l("mvHQ"),S=l.n(O),D=l("BO1k"),_=l.n(D),E=l("kFye"),W={data:function(){return{grid:[5,5],scale:.4,slotSize:80,width:1280,height:720,toggleState:!0,drawer:!1,landscape:!1,currentButtonId:"",currentButton:{key:"",alias:"",command:"",rectangle:{X:0,Y:0,Width:90,Height:90},transparency:.5},options:[{label:"None",value:"None"},{label:"MouseLeft",value:"MouseLeft"},{label:"MouseRight",value:"MouseRight"},{label:"MouseMiddle",value:"MouseMiddle"},{label:"MouseX1",value:"MouseX1"},{label:"MouseX2",value:"MouseX2"},{label:"A",value:"A"},{label:"B",value:"B"},{label:"C",value:"C"},{label:"CapsLock",value:"CapsLock"},{label:"D",value:"D"},{label:"D0",value:"D0"},{label:"D1",value:"D1"},{label:"D2",value:"D2"},{label:"D3",value:"D3"},{label:"D4",value:"D4"},{label:"D5",value:"D5"},{label:"D6",value:"D6"},{label:"D7",value:"D7"},{label:"D8",value:"D8"},{label:"D9",value:"D9"},{label:"Decimal",value:"Decimal"},{label:"Delete",value:"Delete"},{label:"Divide",value:"Divide"},{label:"Down",value:"Down"},{label:"E",value:"E"},{label:"End",value:"End"},{label:"Enter",value:"Enter"},{label:"Escape",value:"Escape"},{label:"F",value:"F"},{label:"F1",value:"F1"},{label:"F10",value:"F10"},{label:"F11",value:"F11"},{label:"F12",value:"F12"},{label:"F2",value:"F2"},{label:"F3",value:"F3"},{label:"F4",value:"F4"},{label:"F5",value:"F5"},{label:"F6",value:"F6"},{label:"F7",value:"F7"},{label:"F8",value:"F8"},{label:"F9",value:"F9"},{label:"G",value:"G"},{label:"H",value:"H"},{label:"Help",value:"Help"},{label:"Home",value:"Home"},{label:"I",value:"I"},{label:"Insert",value:"Insert"},{label:"J",value:"J"},{label:"K",value:"K"},{label:"L",value:"L"},{label:"Left",value:"Left"},{label:"LeftAlt",value:"LeftAlt"},{label:"LeftControl",value:"LeftControl"},{label:"LeftShift",value:"LeftShift"},{label:"LeftWindows",value:"LeftWindows"},{label:"M",value:"M"},{label:"Multiply",value:"Multiply"},{label:"N",value:"N"},{label:"NumLock",value:"NumLock"},{label:"NumPad0",value:"NumPad0"},{label:"NumPad1",value:"NumPad1"},{label:"NumPad2",value:"NumPad2"},{label:"NumPad3",value:"NumPad3"},{label:"NumPad4",value:"NumPad4"},{label:"NumPad5",value:"NumPad5"},{label:"NumPad6",value:"NumPad6"},{label:"NumPad7",value:"NumPad7"},{label:"NumPad8",value:"NumPad8"},{label:"NumPad9",value:"NumPad9"},{label:"O",value:"O"},{label:"OemBackslash",value:"OemBackslash"},{label:"OemClear",value:"OemClear"},{label:"OemCloseBrackets",value:"OemCloseBrackets"},{label:"OemComma",value:"OemComma"},{label:"OemCopy",value:"OemCopy"},{label:"OemMinus",value:"OemMinus"},{label:"OemOpenBrackets",value:"OemOpenBrackets"},{label:"OemPeriod",value:"OemPeriod"},{label:"OemPipe",value:"OemPipe"},{label:"OemPlus",value:"OemPlus"},{label:"OemQuestion",value:"OemQuestion"},{label:"OemQuotes",value:"OemQuotes"},{label:"OemSemicolon",value:"OemSemicolon"},{label:"OemTilde",value:"OemTilde"},{label:"P",value:"P"},{label:"PageDown",value:"PageDown"},{label:"PageUp",value:"PageUp"},{label:"Pause",value:"Pause"},{label:"Play",value:"Play"},{label:"Print",value:"Print"},{label:"PrintScreen",value:"PrintScreen"},{label:"Q",value:"Q"},{label:"R",value:"R"},{label:"Right",value:"Right"},{label:"RightAlt",value:"RightAlt"},{label:"RightControl",value:"RightControl"},{label:"RightShift",value:"RightShift"},{label:"RightWindows",value:"RightWindows"},{label:"S",value:"S"},{label:"Scroll",value:"Scroll"},{label:"Select",value:"Select"},{label:"Separator",value:"Separator"},{label:"Sleep",value:"Sleep"},{label:"Space",value:"Space"},{label:"Subtract",value:"Subtract"},{label:"T",value:"T"},{label:"Tab",value:"Tab"},{label:"U",value:"U"},{label:"Up",value:"Up"},{label:"V",value:"V"},{label:"VolumeDown",value:"VolumeDown"},{label:"VolumeMute",value:"VolumeMute"},{label:"VolumeUp",value:"VolumeUp"},{label:"W",value:"W"},{label:"X",value:"X"},{label:"Y",value:"Y"},{label:"Z",value:"Z"}],config:{}}},computed:{color:function(){return"rgba(255,171,0,"+this.currentButton.transparency+")"}},mounted:function(){var e=this;this.$i18n.locale=window.webObject.getLanguage(),this.width=window.webObject.getWidth(),this.height=window.webObject.getHeight(),this.scale=window.webObject.getScale(),this.landscape=window.webObject.isLandscape(),window.setJson=function(t){var l=JSON.parse(t),a=!0,n=!1,r=void 0;try{for(var o,i=_()(l.buttons);!(a=(o=i.next()).done);a=!0){o.value.id=Object(E.a)()}}catch(e){n=!0,r=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw r}}var u=!0,c=!1,s=void 0;try{for(var d,v=_()(l.buttonsExtend);!(u=(d=v.next()).done);u=!0){d.value.id=Object(E.a)()}}catch(e){c=!0,s=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw s}}e.config=l},window.setJson(window.webObject.getText()),window.getJsonCallback=function(){var t=JSON.parse(S()(e.config)),l=!0,a=!1,n=void 0;try{for(var r,o=_()(t.buttons);!(l=(r=o.next()).done);l=!0){delete r.value.id}}catch(e){a=!0,n=e}finally{try{!l&&o.return&&o.return()}finally{if(a)throw n}}var i=!0,u=!1,c=void 0;try{for(var s,d=_()(t.buttonsExtend);!(i=(s=d.next()).done);i=!0){delete s.value.id}}catch(e){u=!0,c=e}finally{try{!i&&d.return&&d.return()}finally{if(u)throw c}}return t}},methods:{getTextConfig:function(e,t){return void 0===e?{}:{x:e.rectangle.X,y:e.rectangle.Y,width:e.rectangle.Width,height:e.rectangle.Height,text:t,align:"center",verticalAlign:"middle",fontSize:Math.sqrt(144/this.scale),perfectDrawEnabled:!1,transformsEnabled:"position"}},getButtonConfig:function(e,t){return void 0===e?{}:{x:e.rectangle.X,y:e.rectangle.Y,width:e.rectangle.Width,height:e.rectangle.Height,opacity:e.transparency,fill:t,stroke:"black",strokeWidth:2/this.scale,perfectDrawEnabled:!1,transformsEnabled:"position",shadowForStrokeEnabled:!1,hitStrokeWidth:0}},querySearch:function(e,t){var l=e?this.options.filter(function(t){return t.value.toLowerCase().includes(e.toLowerCase())}):this.options;l.sort(function(e,t){return e.value.length-t.value.length}),t(l)},toggle:function(e){this.toggleState=!this.toggleState,e.cancelBubble=!0},onActivated:function(e){this.currentButton=e,this.currentButtonId=e.id},getNodeParentFor:function(e,t,l){return void 0!==e[l]?e:void 0!==e[t]&&null!=e[t]?this.getNodeParentFor(e[t],t,l):null},onParentClick:function(e){var t=this.getNodeParentFor(e.target,"parent","getPointerPosition");if(null!=t){var l=t.getPointerPosition().x-(this.currentButton.rectangle.X+this.currentButton.rectangle.Width/2),a=t.getPointerPosition().y-(this.currentButton.rectangle.Y+this.currentButton.rectangle.Height/2),n=Math.abs(l),r=Math.abs(a);if(n>r){if(n<this.currentButton.rectangle.Width/2)return;l>0?this.currentButton.rectangle.X+=this.grid[0]:this.currentButton.rectangle.X-=this.grid[0]}else{if(r<this.currentButton.rectangle.Height/2)return;a>0?this.currentButton.rectangle.Y+=this.grid[1]:this.currentButton.rectangle.Y-=this.grid[1]}}},onAddButton:function(){var e=void 0;e=this.toggleState?this.config.buttonsExtend:this.config.buttons;var t={id:Object(E.a)(),key:this.firstNotEmpty(this.currentButton.key,"None"),rectangle:{X:this.currentButton.rectangle.X,Y:this.currentButton.rectangle.Y,Width:this.currentButton.rectangle.Width,Height:this.currentButton.rectangle.Height},transparency:this.currentButton.transparency,alias:this.currentButton.alias,command:this.currentButton.command};e.push(t),this.currentButton=t},onRemoveButton:function(){var e=this,t=this.config.buttons,l=this.firstNotEmpty(this.currentButton.id,this.currentButton.key),a=t.findIndex(function(t){if(e.firstNotEmpty(t.id,t.key)===l)return!0});a<0&&(a=(t=this.config.buttonsExtend).findIndex(function(t){if(e.firstNotEmpty(t.id,t.key)===l)return!0})),a>=0&&t.splice(a,1)},firstNotEmpty:function(e,t){return this.isEmpty(e)?t:e},isEmpty:function(e){return void 0===e||null==e||""===e}}},C={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("v-stage",{style:{transform:"scale("+e.scale+")","transform-origin":"0 0","margin-bottom":"-"+e.height*(1-e.scale)+"px"},attrs:{config:{height:e.height,width:e.width}},on:{tap:e.onParentClick}},[l("v-layer",[l("v-rect",{attrs:{config:{x:0,y:0,width:e.width,height:e.height,stroke:"cyan",strokeWidth:1/this.scale,dash:[5/this.scale,5/this.scale]}}}),e._v(" "),l("v-rect",{attrs:{config:{x:4,y:16,width:e.slotSize+24,height:24*e.slotSize+24,stroke:"gold",strokeWidth:1/this.scale,dash:[3/this.scale,3/this.scale]}}}),e._v(" "),l("v-rect",{attrs:{config:{x:16,y:e.height-e.slotSize-28,width:24*e.slotSize+24,height:e.slotSize+24,stroke:"gold",strokeWidth:1/this.scale,dash:[3/this.scale,3/this.scale]}}}),e._v(" "),l("v-group",{on:{tap:e.toggle}},[l("v-rect",{attrs:{config:e.getButtonConfig(e.config.vToggle,"lightyellow")}}),e._v(" "),l("v-text",{attrs:{config:e.getTextConfig(e.config.vToggle,e.$t("toggle"))}})],1)],1),e._v(" "),l("v-layer",[e._l(e.config.buttons,function(t){return t.id!==e.currentButtonId?l("v-group",{key:e.firstNotEmpty(t.id,t.key),on:{tap:function(){return e.onActivated(t)}}},[l("v-rect",{attrs:{config:e.getButtonConfig(t,"darkorange")}}),e._v(" "),l("v-text",{attrs:{config:e.getTextConfig(t,e.firstNotEmpty(t.alias,t.key))}})],1):e._e()}),e._v(" "),e._l(e.config.buttonsExtend,function(t){return e.toggleState&&t.id!==e.currentButtonId?l("v-group",{key:e.firstNotEmpty(t.id,t.key),on:{tap:function(){return e.onActivated(t)}}},[l("v-rect",{attrs:{config:e.getButtonConfig(t,"lightyellow")}}),e._v(" "),l("v-text",{attrs:{config:e.getTextConfig(t,e.firstNotEmpty(t.alias,t.key))}})],1):e._e()})],2),e._v(" "),e.isEmpty(e.currentButtonId)?e._e():l("v-layer",[l("v-rect",{attrs:{config:e.getButtonConfig(e.currentButton,"lightcyan")}}),e._v(" "),l("v-text",{attrs:{config:e.getTextConfig(e.currentButton,e.firstNotEmpty(e.currentButton.alias,e.currentButton.key))}})],1)],1),e._v(" "),l("el-drawer",{attrs:{title:"",visible:e.drawer,direction:"rtl",size:"40%","with-header":!0},on:{"update:visible":function(t){e.drawer=t}}},[l("el-form",{ref:"form",attrs:{"label-width":"50px"}},[l("el-form-item",{attrs:{label:e.$t("X")}},[l("el-slider",{attrs:{max:e.width,min:0,step:5,"show-input":""},model:{value:e.currentButton.rectangle.X,callback:function(t){e.$set(e.currentButton.rectangle,"X",t)},expression:"currentButton.rectangle.X"}})],1),e._v(" "),l("el-form-item",{attrs:{label:e.$t("Y")}},[l("el-slider",{attrs:{max:e.height,min:0,step:5,"show-input":""},model:{value:e.currentButton.rectangle.Y,callback:function(t){e.$set(e.currentButton.rectangle,"Y",t)},expression:"currentButton.rectangle.Y"}})],1),e._v(" "),l("el-form-item",{attrs:{label:e.$t("Width")}},[l("el-slider",{attrs:{max:e.width,min:5,step:5,"show-input":""},model:{value:e.currentButton.rectangle.Width,callback:function(t){e.$set(e.currentButton.rectangle,"Width",t)},expression:"currentButton.rectangle.Width"}})],1),e._v(" "),l("el-form-item",{attrs:{label:e.$t("Height")}},[l("el-slider",{attrs:{max:e.height,min:5,step:5,"show-input":""},model:{value:e.currentButton.rectangle.Height,callback:function(t){e.$set(e.currentButton.rectangle,"Height",t)},expression:"currentButton.rectangle.Height"}})],1)],1)],1),e._v(" "),e.landscape&&!e.isEmpty(e.currentButtonId)?l("el-button",{staticClass:"button-float",attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(t){e.drawer=!0}}}):e._e(),e._v(" "),l("el-form",{ref:"form",attrs:{"label-width":"80px"}},[l("el-form-item",{attrs:{label:e.$t("key")}},[l("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:e.$t("key")},model:{value:e.currentButton.key,callback:function(t){e.$set(e.currentButton,"key",t)},expression:"currentButton.key"}})],1),e._v(" "),l("el-form-item",{attrs:{label:e.$t("alias")}},[l("el-col",{attrs:{span:10}},[l("el-input",{attrs:{placeholder:e.$t("alias")},model:{value:e.currentButton.alias,callback:function(t){e.$set(e.currentButton,"alias",t)},expression:"currentButton.alias"}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:e.$t("command")}},[l("el-col",{attrs:{span:10}},[l("el-input",{attrs:{placeholder:e.$t("command")},model:{value:e.currentButton.command,callback:function(t){e.$set(e.currentButton,"command",t)},expression:"currentButton.command"}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:e.$t("transparency")}},[l("el-row",[l("el-col",{attrs:{span:2}},[l("el-color-picker",{attrs:{"show-alpha":"",disabled:""},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1),e._v(" "),l("el-col",{attrs:{span:22}},[l("el-slider",{attrs:{max:1,min:0,step:.01,"show-input":""},model:{value:e.currentButton.transparency,callback:function(t){e.$set(e.currentButton,"transparency",t)},expression:"currentButton.transparency"}})],1)],1)],1),e._v(" "),l("el-form-item",{attrs:{label:e.$t("X")}},[l("el-slider",{attrs:{max:e.width,min:0,step:5,"show-input":""},model:{value:e.currentButton.rectangle.X,callback:function(t){e.$set(e.currentButton.rectangle,"X",t)},expression:"currentButton.rectangle.X"}})],1),e._v(" "),l("el-form-item",{attrs:{label:e.$t("Y")}},[l("el-slider",{attrs:{max:e.height,min:0,step:5,"show-input":""},model:{value:e.currentButton.rectangle.Y,callback:function(t){e.$set(e.currentButton.rectangle,"Y",t)},expression:"currentButton.rectangle.Y"}})],1),e._v(" "),l("el-form-item",{attrs:{label:e.$t("Width")}},[l("el-slider",{attrs:{max:e.width,min:5,step:5,"show-input":""},model:{value:e.currentButton.rectangle.Width,callback:function(t){e.$set(e.currentButton.rectangle,"Width",t)},expression:"currentButton.rectangle.Width"}})],1),e._v(" "),l("el-form-item",{attrs:{label:e.$t("Height")}},[l("el-slider",{attrs:{max:e.height,min:5,step:5,"show-input":""},model:{value:e.currentButton.rectangle.Height,callback:function(t){e.$set(e.currentButton.rectangle,"Height",t)},expression:"currentButton.rectangle.Height"}})],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:e.onAddButton}},[e._v(e._s(e.$t("add")))]),e._v(" "),l("el-button",{attrs:{type:"danger"},on:{click:e.onRemoveButton}},[e._v(e._s(e.$t("remove")))])],1)],1)],1)},staticRenderFns:[]};var F={name:"App",components:{VirtualKeyboard:l("VU/8")(W,C,!1,function(e){l("RrPw")},"data-v-3c1560bc",null).exports}},$={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("VirtualKeyboard")],1)},staticRenderFns:[]};var X=l("VU/8")(F,$,!1,function(e){l("7F/4")},null,null).exports,H=l("TXmL"),M=l("Dd8w"),L=l.n(M),T=l("wUZ8"),Y=l.n(T),R=l("Vi3T"),A=l.n(R),I={en:L()({toggle:"Toggle",add:"ADD",remove:"REMOVE",key:"Key",alias:"Alias",command:"Command",transparency:"Transparency",X:"X",Y:"Y",Width:"Width",Height:"Height"},Y.a),"zh-CN":L()({toggle:"切换",add:"新增",remove:"移除",key:"按键",alias:"别名",command:"命令",transparency:"透明度",X:"X",Y:"Y",Width:"宽",Height:"高"},A.a)},J=l("urW8"),j=l.n(J),V=l("YXZ/"),U=l.n(V);N.default.config.productionTip=!1,N.default.use(H.a),N.default.use(U.a),N.default.component(P.a.name,P.a),N.default.component(k.a.name,k.a),N.default.component(B.a.name,B.a),N.default.component(p.a.name,p.a),N.default.component(b.a.name,b.a),N.default.component(h.a.name,h.a),N.default.component(v.a.name,v.a),N.default.component(s.a.name,s.a),N.default.component(u.a.name,u.a),N.default.component(o.a.name,o.a),N.default.component(n.a.name,n.a),j.a.i18n(function(e,t){return z.t(e,t)});var z=new H.a({locale:navigator.language,messages:I});function Q(){var e=document.documentElement.clientWidth||document.body.clientWidth;document.getElementsByTagName("html")[0].style.fontSize=e/10+"px"}window.onresize=Q,Q(),new N.default({i18n:z,el:"#app",components:{App:X},template:"<App/>"})},RrPw:function(e,t){},"X+ky":function(e,t){},d7TW:function(e,t){},jZDA:function(e,t){},qunJ:function(e,t){},tJtB:function(e,t){},wlbC:function(e,t){}},["NHnr"]);